---
import TwoColumnLayout from '../layouts/TwoColumnLayout.astro'
import { getCollection } from 'astro:content'
import NewsCards from '../components/NewsCards.astro'

const news = (await getCollection('news'))
  .filter((entry) => entry.slug !== 'hir-sablon')
  .map((entry) => ({ ...entry.data, slug: entry.slug }))
  .sort((a, b) => new Date(b.date).getTime() - new Date(a.date).getTime())
---

<TwoColumnLayout
  frontmatter={{ title: 'Hírek', description: 'Böngésszen az összes hírünk között.' }}
>
  <section id="all-news">
    <div class="px-4 sm:px-6">
      <NewsCards items={news} variant="grid" columns="grid-cols-1 md:grid-cols-2 xl:grid-cols-3" />
    </div>
  </section>
</TwoColumnLayout>
