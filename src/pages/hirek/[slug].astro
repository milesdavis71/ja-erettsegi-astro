---
import MarkdownLayout from '../../layouts/MarkdownLayout.astro';
import newsData from '../../data/news.yml';

export async function getStaticPaths() {
  return newsData.news.map(item => ({
    params: { slug: item.slug },
    props: { newsItem: item },
  }));
}

const { newsItem } = Astro.props;
const { title, date, category, image } = newsItem;
---

<MarkdownLayout frontmatter={{ title: title, description: `HÃ­r: ${title}` }}>
  <img src={image} alt={title} class="w-full h-auto object-cover rounded-lg mb-6" />
  <div class="flex items-center justify-between mb-4">
    <span class="text-sm font-semibold text-blue-600 uppercase tracking-wide">{category}</span>
    <time class="text-sm text-gray-500">
      {new Date(date).toLocaleDateString("hu-HU", {
        year: "numeric",
        month: "long",
        day: "numeric",
      })}
    </time>
  </div>
  <slot />
</MarkdownLayout>
