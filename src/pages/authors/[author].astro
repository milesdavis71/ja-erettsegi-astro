---
import DefaultLayout from '../../layouts/DefaultLayout.astro'
import authorsData from '../../data/authors.json'

export async function getStaticPaths() {
  // Get all author keys from the JSON file
  const authors = Object.keys(authorsData)

  // Return paths for each author
  return authors.map((author) => ({ params: { author } }))
}

const { author } = Astro.params
const authorData = authorsData[author] || { bio: 'No info available.', age: 'N/A' }
const frontmatter = {
  title: `Szerző: ${author}`,
  description: authorData.bio,
  sidebarNewsCount: 1,
}
---

<DefaultLayout {frontmatter}>
  <section class="py-12">
    <h1 class="text-3xl font-bold mb-4">{author}</h1>
    <p class="text-gray-700 mb-4">{authorData.bio}</p>
    <p class="text-gray-600 text-sm">Életkor: {authorData.age}</p>
  </section>
</DefaultLayout>
